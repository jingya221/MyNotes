<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page.title | default: site.title }}</title>
    <meta name="description" content="{{ page.description | default: site.description }}">
    
    <!-- SEO Meta Tags -->
    <meta name="author" content="{{ site.author }}">
    <meta property="og:title" content="{{ page.title | default: site.title }}">
    <meta property="og:description" content="{{ page.description | default: site.description }}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ site.url }}{{ site.baseurl }}{{ page.url }}">
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#3498db">
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>📝</text></svg>">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Styles -->
    <link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
    
    <!-- Highlight.js for code highlighting -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
</head>
<body>
    <div class="container">
        <header class="site-header">
            <nav class="site-nav">
                <a href="{{ '/' | relative_url }}" class="site-title">📝 {{ site.title | default: "我的笔记本" }}</a>
                <div class="nav-links">
                    <a href="{{ '/' | relative_url }}">🏠 首页</a>
                    <a href="#分类浏览">📚 分类</a>
                    <a href="#字母索引">🔍 索引</a>
                    <a href="{{ site.social_links.github | prepend: 'https://github.com/' }}" target="_blank">💻 GitHub</a>
                </div>
            </nav>
        </header>

        <main class="page-content">
            {{ content }}
        </main>

        <footer class="site-footer">
            <div class="footer-content">
                <p>
                    📝 {{ site.title | default: "我的笔记本" }} 
                    {% if site.author %}• 作者：{{ site.author }}{% endif %}
                </p>
                <p>
                    🔗 
                    {% if site.social_links.github %}
                        <a href="{{ site.social_links.github | prepend: 'https://github.com/' }}" target="_blank">GitHub</a>
                    {% endif %}
                    {% if site.social_links.email %}
                        • <a href="mailto:{{ site.social_links.email }}">邮箱</a>
                    {% endif %}
                    • <a href="{{ '/feed.xml' | relative_url }}">RSS</a>
                </p>
                <p class="footer-note">
                    💡 使用 <a href="https://jekyllrb.com/" target="_blank">Jekyll</a> 和 
                    <a href="https://pages.github.com/" target="_blank">GitHub Pages</a> 构建
                </p>
            </div>
        </footer>
    </div>

    <script>
        // 初始化代码高亮
        document.addEventListener('DOMContentLoaded', function() {
            hljs.highlightAll();
            
            // 添加复制代码功能
            document.querySelectorAll('pre code').forEach((block) => {
                const button = document.createElement('button');
                button.className = 'copy-code-btn';
                button.textContent = '复制';
                button.onclick = () => {
                    navigator.clipboard.writeText(block.textContent).then(() => {
                        button.textContent = '已复制!';
                        setTimeout(() => button.textContent = '复制', 2000);
                    });
                };
                block.parentNode.insertBefore(button, block);
            });
            
            // 平滑滚动
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault();
                    const target = document.querySelector(this.getAttribute('href'));
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
            
            // 添加淡入动画
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('fade-in');
                    }
                });
            }, observerOptions);
            
            document.querySelectorAll('h2, h3, .stats-card, .alphabet-nav').forEach(el => {
                observer.observe(el);
            });
        });
        
        // 添加返回顶部按钮
        window.addEventListener('scroll', function() {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const backToTop = document.getElementById('back-to-top');
            
            if (!backToTop) {
                const btn = document.createElement('button');
                btn.id = 'back-to-top';
                btn.innerHTML = '↑';
                btn.title = '返回顶部';
                btn.style.cssText = `
                    position: fixed;
                    bottom: 20px;
                    right: 20px;
                    width: 50px;
                    height: 50px;
                    border-radius: 50%;
                    background: #3498db;
                    color: white;
                    border: none;
                    font-size: 20px;
                    cursor: pointer;
                    z-index: 1000;
                    transition: all 0.3s ease;
                    opacity: 0;
                    transform: translateY(20px);
                `;
                btn.onclick = () => window.scrollTo({ top: 0, behavior: 'smooth' });
                document.body.appendChild(btn);
            }
            
            const backBtn = document.getElementById('back-to-top');
            if (scrollTop > 300) {
                backBtn.style.opacity = '1';
                backBtn.style.transform = 'translateY(0)';
            } else {
                backBtn.style.opacity = '0';
                backBtn.style.transform = 'translateY(20px)';
            }
        });
    </script>
</body>
</html> 