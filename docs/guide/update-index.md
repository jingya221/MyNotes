# æ›´æ–°ç´¢å¼•

!!! abstract "è‡ªåŠ¨åŒ–ç®¡ç†"
    å­¦ä¹ å¦‚ä½•è‡ªåŠ¨ç»´æŠ¤ç½‘ç«™çš„ç´¢å¼•å’Œå¯¼èˆªç»“æ„ã€‚

## ğŸ”„ è‡ªåŠ¨æ›´æ–°è„šæœ¬

### Python è„šæœ¬

æ›´æ–°åçš„ `update_readme.py` è„šæœ¬ç°åœ¨æ”¯æŒ MkDocs æ ¼å¼ï¼š

```python title="update_readme.py æ ¸å¿ƒåŠŸèƒ½"
def scan_mkdocs_notes():
    """æ‰«æ docs/notes/ ç›®å½•ä¸‹çš„æ‰€æœ‰ç¬”è®°"""
    notes = []
    docs_dir = Path("docs/notes")
    
    for md_file in docs_dir.rglob("*.md"):
        # æå–ç¬”è®°ä¿¡æ¯
        title = extract_title(md_file)
        category = get_category(md_file)
        mtime = get_modification_time(md_file)
        
        notes.append({
            'title': title,
            'category': category,
            'path': str(md_file.relative_to('docs')),
            'mtime': mtime
        })
    
    return notes

def update_mkdocs_config():
    """æ›´æ–° mkdocs.yml ä¸­çš„å¯¼èˆªç»“æ„"""
    # è‡ªåŠ¨ç”Ÿæˆå¯¼èˆªé…ç½®
    pass

def update_index_page():
    """æ›´æ–°é¦–é¡µçš„ç»Ÿè®¡ä¿¡æ¯å’Œæœ€è¿‘æ›´æ–°åˆ—è¡¨"""
    # æ›´æ–° docs/index.md
    pass
```

### æ‰¹å¤„ç†è„šæœ¬

`update_notes.bat` ç°åœ¨æ”¯æŒ MkDocs å·¥ä½œæµï¼š

```batch title="update_notes.bat"
@echo off
echo æ­£åœ¨æ›´æ–°ç¬”è®°ç´¢å¼•...

python update_readme.py

echo æ£€æŸ¥ Git çŠ¶æ€...
git status

set /p commit_msg="è¯·è¾“å…¥æäº¤æ¶ˆæ¯ (æˆ–æŒ‰å›è½¦ä½¿ç”¨é»˜è®¤æ¶ˆæ¯): "
if "%commit_msg%"=="" set commit_msg=æ›´æ–°ç¬”è®°ç´¢å¼•

git add .
git commit -m "%commit_msg%"

set /p push_confirm="æ˜¯å¦æ¨é€åˆ° GitHub? (y/N): "
if /i "%push_confirm%"=="y" (
    git push
    echo æ¨é€å®Œæˆï¼GitHub Actions å°†è‡ªåŠ¨æ„å»ºç½‘ç«™ã€‚
) else (
    echo å·²æäº¤åˆ°æœ¬åœ°ï¼Œæœªæ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚
)

pause
```

## ğŸ“Š ç»Ÿè®¡ä¿¡æ¯ç”Ÿæˆ

### ç¬”è®°ç»Ÿè®¡

è„šæœ¬ä¼šè‡ªåŠ¨è®¡ç®—ï¼š

- **æ€»ç¬”è®°æ•°** - ç»Ÿè®¡æ‰€æœ‰ `.md` æ–‡ä»¶
- **åˆ†ç±»æ•°** - ç»Ÿè®¡ä¸åŒçš„ç›®å½•åˆ†ç±»
- **æœ€è¿‘æ›´æ–°** - æŒ‰ä¿®æ”¹æ—¶é—´æ’åº
- **æœ€åæ›´æ–°æ—¶é—´** - æ˜¾ç¤ºæœ€æ–°çš„ä¿®æ”¹æ—¶é—´

### ç”Ÿæˆæ ¼å¼

æ›´æ–°åçš„é¦–é¡µæ ¼å¼ï¼š

```markdown
## ğŸ“Š ç¬”è®°ç»Ÿè®¡

<!-- ç¬”è®°ç´¢å¼•å¼€å§‹ -->
ğŸ“ **æ€»ç¬”è®°æ•°ï¼šX ä¸ª**  
ğŸ“ **åˆ†ç±»æ•°ï¼šY ä¸ª**  
ğŸ”¥ **æœ€è¿‘7å¤©æ›´æ–°ï¼šZ ä¸ª**  
ğŸ“… **æœ€åæ›´æ–°ï¼šYYYY-MM-DD HH:MM:SS**
<!-- ç¬”è®°ç´¢å¼•ç»“æŸ -->

## ğŸ”¥ æœ€è¿‘æ›´æ–°

- [**ç¬”è®°æ ‡é¢˜**](notes/path/to/note.md) `åˆ†ç±»å` *(YYYY-MM-DD)*
```

## ğŸ—‚ï¸ å¯¼èˆªç»“æ„è‡ªåŠ¨åŒ–

### è‡ªåŠ¨åˆ†ç±»

è„šæœ¬ä¼šæ ¹æ®ç›®å½•ç»“æ„è‡ªåŠ¨ç”Ÿæˆå¯¼èˆªï¼š

```yaml
nav:
  - é¦–é¡µ: index.md
  - ä½¿ç”¨æŒ‡å—:
    - å¦‚ä½•ä½¿ç”¨: guide/usage.md
    - æ·»åŠ ç¬”è®°: guide/add-notes.md
    - æ›´æ–°ç´¢å¼•: guide/update-index.md
  - ç¬”è®°åˆ†ç±»:
    - æ ¹ç›®å½•:
      - æ¬¢è¿ä½¿ç”¨Markdownç¬”è®°ç³»ç»Ÿ: notes/welcome.md
    - Rè¯­è¨€ç›¸å…³:
      - xptå¯¼å‡º&è¯»å–: notes/r-lang/xpt-export-import.md
    # æ–°åˆ†ç±»ä¼šè‡ªåŠ¨æ·»åŠ åœ¨è¿™é‡Œ
```

### æ‰‹åŠ¨è°ƒæ•´

å¦‚æœéœ€è¦æ‰‹åŠ¨è°ƒæ•´å¯¼èˆªé¡ºåºï¼š

1. ç¼–è¾‘ `mkdocs.yml` æ–‡ä»¶
2. è°ƒæ•´ `nav` éƒ¨åˆ†çš„é¡ºåº
3. æäº¤æ›´æ”¹

!!! tip "æœ€ä½³å®è·µ"
    - è®©è„šæœ¬è‡ªåŠ¨ç”ŸæˆåŸºç¡€ç»“æ„
    - æ‰‹åŠ¨è°ƒæ•´é‡è¦é¡µé¢çš„é¡ºåº
    - ä½¿ç”¨æ¸…æ™°çš„æ–‡ä»¶å¤¹å±‚æ¬¡ç»“æ„

## ğŸš€ GitHub Actions é›†æˆ

### è§¦å‘æ¡ä»¶

GitHub Actions ä¼šåœ¨ä»¥ä¸‹æƒ…å†µè‡ªåŠ¨è¿è¡Œï¼š

- **æ¨é€åˆ° master åˆ†æ”¯** - è‡ªåŠ¨æ„å»ºå’Œéƒ¨ç½²
- **Pull Request** - é¢„è§ˆæ„å»ºï¼ˆä¸éƒ¨ç½²ï¼‰

### æ„å»ºè¿‡ç¨‹

```yaml
# .github/workflows/docs.yml
jobs:
  build:
    steps:
      - name: å®‰è£…ä¾èµ–
        run: |
          pip install mkdocs-material
          pip install mkdocs-minify-plugin
      
      - name: æ„å»ºç½‘ç«™
        run: mkdocs build
      
      - name: éƒ¨ç½²åˆ° GitHub Pages
        uses: actions/deploy-pages@v2
```

### ç›‘æ§çŠ¶æ€

å¯ä»¥åœ¨ GitHub ä»“åº“çš„ Actions æ ‡ç­¾é¡µæŸ¥çœ‹ï¼š

- **æ„å»ºçŠ¶æ€** - æˆåŠŸ/å¤±è´¥
- **æ„å»ºæ—¥å¿—** - è¯¦ç»†çš„æ‰§è¡Œä¿¡æ¯
- **éƒ¨ç½²æ—¶é—´** - ä»æ¨é€åˆ°ç”Ÿæ•ˆçš„æ—¶é—´

## ğŸ“ è‡ªå®šä¹‰è„šæœ¬

### æ‰©å±•åŠŸèƒ½

å¯ä»¥æ ¹æ®éœ€è¦æ‰©å±•æ›´æ–°è„šæœ¬ï¼š

```python title="è‡ªå®šä¹‰åŠŸèƒ½ç¤ºä¾‹"
def generate_tags():
    """ç”Ÿæˆæ ‡ç­¾é¡µé¢"""
    pass

def create_category_index():
    """ä¸ºæ¯ä¸ªåˆ†ç±»åˆ›å»ºç´¢å¼•é¡µé¢"""
    pass

def optimize_images():
    """å‹ç¼©å’Œä¼˜åŒ–å›¾ç‰‡"""
    pass

def check_links():
    """æ£€æŸ¥å†…éƒ¨é“¾æ¥æ˜¯å¦æœ‰æ•ˆ"""
    pass
```

### é…ç½®é€‰é¡¹

åœ¨è„šæœ¬ä¸­æ·»åŠ é…ç½®é€‰é¡¹ï¼š

```python
CONFIG = {
    'docs_dir': 'docs',
    'notes_dir': 'docs/notes',
    'exclude_files': ['.DS_Store', 'README.md'],
    'date_format': '%Y-%m-%d %H:%M:%S',
    'recent_days': 7,
    'auto_nav': True
}
```

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

!!! warning "æ„å»ºå¤±è´¥"
    å¦‚æœ GitHub Actions æ„å»ºå¤±è´¥ï¼š
    
    1. æ£€æŸ¥ `mkdocs.yml` è¯­æ³•æ˜¯å¦æ­£ç¡®
    2. ç¡®ä¿æ‰€æœ‰å¼•ç”¨çš„æ–‡ä»¶éƒ½å­˜åœ¨
    3. æŸ¥çœ‹ Actions æ—¥å¿—äº†è§£å…·ä½“é”™è¯¯

!!! warning "é“¾æ¥å¤±æ•ˆ"
    å¦‚æœé¡µé¢é—´é“¾æ¥ä¸å·¥ä½œï¼š
    
    1. ä½¿ç”¨ç›¸å¯¹è·¯å¾„é“¾æ¥
    2. ç¡®ä¿æ–‡ä»¶è·¯å¾„å¤§å°å†™æ­£ç¡®
    3. é¿å…ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦

### è°ƒè¯•æ¨¡å¼

æœ¬åœ°æµ‹è¯• MkDocsï¼š

```bash
# å®‰è£…ä¾èµ–
pip install mkdocs-material

# æœ¬åœ°é¢„è§ˆ
mkdocs serve

# æ„å»ºé™æ€æ–‡ä»¶
mkdocs build
```

## âš¡ æ€§èƒ½ä¼˜åŒ–

### æ„å»ºä¼˜åŒ–

- **å¯ç”¨ç¼“å­˜** - GitHub Actions ç¼“å­˜ä¾èµ–
- **å¹¶è¡Œæ„å»º** - åˆ©ç”¨å¤šæ ¸å¤„ç†å™¨
- **å¢é‡æ›´æ–°** - åªé‡å»ºæ›´æ”¹çš„é¡µé¢

### å†…å®¹ä¼˜åŒ–

- **å›¾ç‰‡å‹ç¼©** - ä½¿ç”¨åˆé€‚çš„å›¾ç‰‡æ ¼å¼å’Œå¤§å°
- **ä»£ç é«˜äº®** - åªåŠ è½½éœ€è¦çš„è¯­è¨€æ”¯æŒ
- **æœç´¢ç´¢å¼•** - ä¼˜åŒ–æœç´¢ç´¢å¼•å¤§å°

!!! success "è‡ªåŠ¨åŒ–æ”¶ç›Š"
    é€šè¿‡è‡ªåŠ¨åŒ–æ›´æ–°è„šæœ¬ï¼Œä½ å¯ä»¥ï¼š
    
    - â° èŠ‚çœæ‰‹åŠ¨ç»´æŠ¤æ—¶é—´
    - ğŸ”„ ä¿æŒç½‘ç«™å†…å®¹åŒæ­¥
    - ğŸ“ˆ æä¾›å‡†ç¡®çš„ç»Ÿè®¡ä¿¡æ¯
    - ğŸ¯ ä¸“æ³¨äºå†…å®¹åˆ›ä½œè€Œéç»´æŠ¤ 